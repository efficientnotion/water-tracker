<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>물 마시기 출렁임 위젯</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
    height: 100vh;
    background: #f0f4fb;
  }
  .tracker {
    background: white;
    border-radius: 28px;
    box-shadow: 0 10px 20px rgba(66, 133, 244,0.15);
    width: 280px;
    padding: 25px;
    text-align: center;
  }
  .title {
    font-weight: 600;
    font-size: 22px;
    margin-bottom: 20px;
    color: #334155;
  }
  .goal-text {
    font-size: 14px;
    color: #64748b;
    margin-bottom: 12px;
  }
  .water-container {
    position: relative;
    width: 180px;
    height: 180px;
    margin: 0 auto 25px;
    border-radius: 50%;
    background: #e2e8f0;
    overflow: hidden;
    box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
  }

  /* 출렁이는 물 */
  .wave {
    position: absolute;
    bottom: 0;
    width: 200%;
    height: 200%;
    background: #4a90e2;
    border-radius: 40%;
    animation: waveAnimation 4s infinite linear;
    opacity: 0.5;
    transform: translate3d(0,0,0);
  }
  .wave:nth-child(2) {
    animation-delay: -2s;
    opacity: 0.7;
    background: #357abd;
  }

  .water-fill {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 0%;
    background: #4a90e2;
    border-radius: 0 0 90px 90px;
    overflow: hidden;
    transition: height 1s ease;
  }
  .water-fill svg {
    position: absolute;
    bottom: 0;
    width: 200%;
    height: 200%;
    animation: waveAnimation 4s infinite linear;
  }
  .water-fill svg:nth-child(2) {
    animation-delay: -2s;
  }

  /* 물결 애니메이션 */
  @keyframes waveAnimation {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* 버튼 스타일 */
  .buttons {
    display: flex;
    justify-content: center;
    gap: 12px;
  }
  button {
    background: #4a90e2;
    color: white;
    border: none;
    border-radius: 16px;
    padding: 10px 25px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #357abd;
  }

  .stats {
    margin-top: 15px;
    font-size: 16px;
    font-weight: 600;
    color: #334155;
  }
  .subtitle {
    margin-top: 5px;
    font-weight: 400;
    font-size: 14px;
    color: #64748b;
  }
</style>
</head>
<body>
<div class="tracker">
  <div class="title">💧 물 마시기 트래커</div>
  <div class="water-container">
    <div class="water-fill" id="waterFill"></div>
    <div class="wave" style="bottom: 10%;"></div>
    <div class="wave" style="bottom: 15%; animation-duration: 6s;"></div>
  </div>

  <div class="stats" id="statsText">0 ml / 2000 ml</div>
  <div class="subtitle" id="percentText">0% 달성</div>

  <div class="buttons">
    <button onclick="addWater()">한 컵 추가 (250ml)</button>
    <button onclick="resetWater()" style="background:#e53e3e;">초기화</button>
  </div>
</div>

<script>
  const maxGoal = 2000;
  const cupSize = 250;
  const waterFill = document.getElementById('waterFill');
  const statsText = document.getElementById('statsText');
  const percentText = document.getElementById('percentText');

  let currentWater = 0;

  function updateWater() {
    if(currentWater > maxGoal) currentWater = maxGoal;
    let percent = (currentWater / maxGoal) * 100;

    waterFill.style.height = percent + '%';
    statsText.textContent = `${currentWater} ml / ${maxGoal} ml`;
    percentText.textContent = `${Math.round(percent)}% 달성`;
  }

  function addWater(){
    if(currentWater + cupSize <= maxGoal){
      currentWater += cupSize;
      updateWater();
    }
  }
  function resetWater(){
    currentWater = 0;
    updateWater();
  }

  // 초기 표시
  updateWater();
</script>
</body>
</html>
